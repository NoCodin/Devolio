<h1 *ngIf="isAddMode">Dodaj portfolio</h1>
<h1 *ngIf="!isAddMode">Edytuj portfolio</h1>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-row">
    <mat-form-field class="form-group">
      <mat-label>Imię</mat-label>
      <input
        matInput
        minlength="3"
        formControlName="developerName"
        [ngClass]="{ 'is-invalid': submitted }"
        placeholder="Jan"
      />
      <mat-error *ngIf="selectFormControl.hasError('required')">
        This field is required
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Typ</mat-label>
      <select
        matNativeControl
        required
        formControlName="developerType"
        [formControl]="selectFormControl"
        class="form-control"
        [ngClass]="{ 'is-invalid': submitted }"
      >
        <option value="fullstack">fullstack</option>
        <option value="backend">backend</option>
        <option value="frontend">frontend</option>
      </select>
      <mat-error *ngIf="selectFormControl.hasError('required')">
        This field is required
      </mat-error>
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field class="form-group">
      <mat-label>Stack technologiczny</mat-label>
      <input
        matInput
        formControlName="knownTechnologies"
        [ngClass]="{ 'is-invalid': submitted }"
        placeholder="java, python etc."
      />
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="form-group">
      <mat-label>Bio</mat-label>
      <input
        matInput
        formControlName="bio"
        [ngClass]="{ 'is-invalid': submitted }"
        placeholder="bio"
      />
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="form-group">
      <mat-label>Doświadczenie</mat-label>
      <textarea
        matInput
        formControlName="workExperiences"
        [ngClass]="{ 'is-invalid': submitted }"
        placeholder="Doświadczenie"
      ></textarea>
    </mat-form-field>
  </div>

  <div class="form-group">
    <button mat-raised-button [disabled]="loading" class="btn btn-primary">
      <span
        *ngIf="loading"
        class="spinner-border spinner-border-sm mr-1"
      ></span>
      Zapisz
    </button>
    <button mat-raised-button routerLink="/portfolio/" class="btn btn-link">
      Powrót
    </button>
  </div>
</form>
